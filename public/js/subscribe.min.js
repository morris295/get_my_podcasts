var setSubscribed=function(e){e.attr("disabled",!0),e.html("Subscribed"),e.attr("style","background-color: green !important")};$(document).ready(function(){$(document).on("click","#subscribe",function(){console.log(window.location.host);var e="";e=-1!==window.location.host.indexOf("localhost")?"/get_my_podcasts/public/account/subscribe":"/account/subscribe";var s=$("#sub-user-id").val(),t=$("#sub-show-id").val(),o=$('meta[name="csrf-token"]').attr("content");alertify.set({delay:5e3}),$.ajax({url:e,headers:{"X-CSRF-TOKEN":o},method:"POST",data:{user_id:s,podcast_id:t}}).success(function(e){alertify.success("You've subscribed!"),setSubscribed($("#subscribe"))}).fail(function(e){alertify.error("An error occurred."),alertify.log(e.message)})}),$("[id^=unsub-show-]").click(function(e){var s="";s="localhost"===window.location.host?"/get_my_podcasts/public/account/unsubscribe":"/account/unsubscribe";var t=$(this);alertify.confirm("Are you sure you want to unsubscribe?",function(e){if(e){var o=t.attr("data-value"),c=$("#unsub-"+o+"-podcast-id").val(),r=$("#unsub-"+o+"-user-id").val(),a=$('meta[name="csrf-token"]').attr("content");alertify.set({delay:5e3}),$.ajax({url:s,headers:{"X-CSRF-TOKEN":a},method:"POST",data:{user_id:r,podcast_id:c}}).success(function(e){alertify.success("Unsubscribed")}).fail(function(e){console.log(e.responseText),alertify.error("An error occurred."),alertify.log(e)})}})})});